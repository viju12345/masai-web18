<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>LLD</h1>
</body>

</html>
<script>
    class vehicle {
        constructor(type, reg, color) {
            this._type = type;
            this._reg = reg;
            this._color = color;
        }
        get type() {
            return this._type;
        }
        set type(value) {
            this.type = value;
        }
    }

    class car extends vehicle {
        constructor(reg, color) {
            super("car", reg, color)

        }
    }
    let c1 = new car("DL-1234", "red")
    console.log(c1);

    class truck extends vehicle {
        constructor(green, color) {
            super("truck", reg, color)
        }
    }
    let c2 = new truck("D2_2345", "green")
    console.log(c2)

    class slot {
        constructor(type, number) {
            this.number = number;
            this.type = type;
            this._isBooked = false;
        }
        get isBooked() {
            return this._isBooked;
        }
        set isBooked(value) {
            this._isBooked = value;
        }
    }

    class parkingfloor {
        constructor(floornumber, maxsports) {
            this.floornumber = floornumber;
            this._parkingsports = [];
            for (let i = 0; i < maxsports; i++) {
                if (i === 0) {
                    this._parkingsports.push(new slot("car", 1));
                }
                else if (i === 1) {
                    this._parkingsports.push(new slot("truck", 1))
                }
            }
        }
        get parkingsports() {
            return this._parkingsports;
        }
        set parkingsports(value) {
            return this._parkingsports = value
        }
    }
    let p1 = new parkingfloor(0, 3);
    console.log(p1);

    class parkinglot {
        constructor(number) {
            this.floors = [];
            this.numberoffloor = number;

            for (let i = 0; i < number; i++) {
                this._floors.push(new parkingfloor(1, 3));
            }
        }
        get numberoffloor() {
            return this._numberoffloor;
        }
        get floors() {
            return this._floors;
        }

        parkvehicle(vehicle) {
            let slot = this.findslot(vehicle.type);
            if (slot) {
                this.bookslot(slot);
                let ticket = new ticket(slot.floornumber, slot.slot.number);
                console.log(ticket)
            }
            else {
                console.log("no slots")
                return false;
            }
        }


        findslot() {
            for (let i = 0; i < this._numberoffloor; i++) {
                for (let slot of this._floors[i].parkingsports) {
                    if (slot.type === type && !slot.isBooked) {
                        return { floornumber: i, slot: slot }
                    }
                }
            }
            return false;
        }
        bookslot(slot) {
            slot.slot.isBooked = true;
            console.log("slot is booked")
            return true
        }
    }
    class Ticket {
        constructor(floornumber, slotnumber) {
            this.floornumber = floornumber;
            this.slotnumber = slotnumber;
            this.issuedat = new Data();
        }
    }
    let b1 = new bike("DL_1234", "red")
    let pl1 = new parkinglot(3);
    console.log(pl1);

</script>